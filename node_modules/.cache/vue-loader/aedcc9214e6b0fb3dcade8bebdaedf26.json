{"remainingRequest":"D:\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\blog\\src\\components\\Music.vue?vue&type=style&index=0&id=5027f8f8&scoped=true&lang=css&","dependencies":[{"path":"D:\\blog\\src\\components\\Music.vue","mtime":1584714099466},{"path":"D:\\blog\\node_modules\\css-loader\\index.js","mtime":1564912412051},{"path":"D:\\blog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1564912422849},{"path":"D:\\blog\\node_modules\\postcss-loader\\src\\index.js","mtime":1564912417339},{"path":"D:\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564912410434},{"path":"D:\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1564912422848}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.music{\r\n  width: 260px;\r\n  max-height: 250px;\r\n  background-color: #E6E6E6;\r\n  position: absolute;\r\n  left: 295px;\r\n  top: 25px;\r\n  border-radius: 5px;\r\n}\r\n.music .console{\r\n  width: 260px;\r\n  position: absolute;\r\n  background-color: #E6E6E6;\r\n  border-top-right-radius: 5px;\r\n  border-top-left-radius: 5px;\r\n}\r\n.music .console .control{\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 12px 0px;\r\n}\r\n.music .console .control i{\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n  font-size: 18px;\r\n  color: #0a0a0a;\r\n}\r\n.music .console .progress{\r\n  height: 3px;\r\n  background: #ffffff;\r\n  border-radius: 5px;\r\n}\r\n.music .console .progress .rate{\r\n  background: #0a0a0a;\r\n  height: 3px;\r\n  border-radius: 5px;\r\n}\r\n.music .list{\r\n  max-height: 200px;\r\n  margin-top: 50px;\r\n  overflow: auto;\r\n  border-bottom-right-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n}\r\n.music .list div{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n}\r\n.music .list div span{\r\n  display: flex;\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n}\r\n.music .list div font{\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n  margin-right: 3px;\r\n  margin-top: 1px;\r\n  text-align: center;\r\n  width: 15px;\r\n  display: block;\r\n  overflow: hidden;\r\n}\r\n.music .list div:hover{\r\n  background: #cccccc;\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n}\r\n.music .list .active{\r\n  background: #c0c0c0;\r\n}\r\n",{"version":3,"sources":["Music.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Music.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"music\">\r\n    <div class=\"console\">\r\n      <div class=\"control\">\r\n        <i class=\"layui-icon layui-icon-left\" @click=\"musicPrev()\" title=\"上一首\"></i>\r\n        <i :class=\"['layui-icon',playOrPause]\" @click=\"musicPlayOrPause()\" title=\"播放\"></i>\r\n        <i class=\"layui-icon layui-icon-right\" @click=\"musicNext()\" title=\"下一首\"></i>\r\n        <i :class=\"['layui-icon', voiceMuted]\" @click=\"musicVoice()\" title=\"静音\"></i>\r\n      </div>\r\n      <div class=\"progress\" :title=\"songTimes\">\r\n        <div class=\"rate\" :style=\"{width: rate +'%'}\" :title=\"songTime\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"list\">\r\n      <div :class=\"{'active': nowMusic == index }\" v-for=\"(item, index) in musicList\" :key='item.id' @click=\"playList(index)\">\r\n        <span><font>{{index+1}}</font>{{item.name}}</span>\r\n        <span>{{item.singer}}</span>\r\n      </div>\r\n    </div>\r\n    <audio class=\"audio\" v-if=\"mp3_url\" :src=\"mp3_url\"></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst myTimer=[];\r\nexport default {\r\n  data(){\r\n    return{\r\n      error: '数据加载中',\r\n      musicList: [],\r\n      nowMusic: 0,\r\n      rate: 0,\r\n      mp3_url: '',\r\n      is_play: false,\r\n      is_muted: false,\r\n      times: 0,\r\n      time: 0\r\n    }\r\n  },\r\n  mounted: function() { //钩子函数\r\n    this.getMusic();\r\n  },\r\n  methods: {\r\n    getMusic: function(){\r\n      this.$http.get('https://a.abliulei.com/api/getmusic').then(\r\n        function(res){\r\n          let data = res.data.data\r\n          this.musicList = data\r\n          this.mp3_url = this.musicList[0][\"url\"]\r\n      })\r\n    },\r\n    setAudioUrl: function(){\r\n\r\n    },\r\n    musicPlayOrPause: function(){\r\n      this.mp3_url = this.musicList[this.nowMusic][\"url\"]\r\n      let audio = document.getElementsByClassName(\"audio\")[0]\r\n      let _this = this\r\n      audio.addEventListener('ended', function () {\r\n        _this.musicNext()\r\n      }, false);\r\n      audio.load();\r\n      if(this.is_play){\r\n        audio.pause()\r\n      }else{\r\n        var times\r\n        audio.oncanplay = function(){\r\n          times = audio.duration\r\n          _this.progress(times)\r\n        }\r\n        clearInterval(myTimer[0])\r\n        audio.play()\r\n      }\r\n      _this.is_play = !_this.is_play\r\n    },\r\n    progress: function(times){\r\n      let time = 0\r\n      let _this = this\r\n      this.times = times\r\n      myTimer[0] = setInterval(() => {\r\n        _this.rate = (time/times*100).toFixed(2);\r\n        time++\r\n        _this.time = time\r\n        if(time==times){\r\n          clearInterval(myTimer[0])\r\n        }\r\n      }, 1000);\r\n    },\r\n    musicPrev: function(){\r\n      if(this.nowMusic==0){\r\n        this.nowMusic = this.musicList.length-1\r\n      }else{\r\n        this.nowMusic = this.nowMusic-1\r\n      }\r\n      this.is_play = false\r\n      let audio = document.getElementsByClassName(\"audio\")[0]\r\n      audio.pause()\r\n      this.musicPlayOrPause()\r\n    },\r\n    musicNext: function(){\r\n      if(this.nowMusic==this.musicList.length){\r\n        this.nowMusic = 0\r\n      }else{\r\n        this.nowMusic = this.nowMusic+1\r\n      }\r\n      this.is_play = false\r\n      let audio = document.getElementsByClassName(\"audio\")[0]\r\n      audio.pause()\r\n      this.musicPlayOrPause()\r\n    },\r\n    playList: function(index){\r\n      this.nowMusic = index\r\n      this.is_play = false\r\n      let audio = document.getElementsByClassName(\"audio\")[0]\r\n      audio.pause()\r\n      this.musicPlayOrPause()\r\n    },\r\n    musicVoice: function(){\r\n      let audio = document.getElementsByClassName(\"audio\")[0]\r\n      audio.muted = !audio.muted\r\n      this.is_muted = !this.is_muted\r\n    }\r\n  },\r\n  computed: {\r\n    playOrPause: function(){\r\n      if(this.is_play){\r\n        return 'layui-icon-pause'\r\n      }else{\r\n        return 'layui-icon-play'\r\n      }\r\n    },\r\n    voiceMuted: function(){\r\n      if(this.is_muted){\r\n        return 'layui-icon-mute'\r\n      }else{\r\n        return 'layui-icon-speaker'\r\n      }\r\n    },\r\n    songTimes: function(){\r\n      let minute = Math.floor(this.times / 60)\r\n      if(minute<10){\r\n        minute = \"0\"+minute\r\n      }\r\n      let second = Math.floor(this.times - (minute * 60))\r\n      if(second<10){\r\n        second = \"0\"+second\r\n      }\r\n      let times = minute+':'+second\r\n      return times\r\n    },\r\n    songTime: function(){\r\n      let minute = Math.floor(this.time / 60)\r\n      if(minute<10){\r\n        minute = \"0\"+minute\r\n      }\r\n      let second = Math.floor(this.time - (minute * 60))\r\n      if(second<10){\r\n        second = \"0\"+second\r\n      }\r\n      let time = minute+':'+second\r\n      return time\r\n    }\r\n  }, \r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.music{\r\n  width: 260px;\r\n  max-height: 250px;\r\n  background-color: #E6E6E6;\r\n  position: absolute;\r\n  left: 295px;\r\n  top: 25px;\r\n  border-radius: 5px;\r\n}\r\n.music .console{\r\n  width: 260px;\r\n  position: absolute;\r\n  background-color: #E6E6E6;\r\n  border-top-right-radius: 5px;\r\n  border-top-left-radius: 5px;\r\n}\r\n.music .console .control{\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 12px 0px;\r\n}\r\n.music .console .control i{\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n  font-size: 18px;\r\n  color: #0a0a0a;\r\n}\r\n.music .console .progress{\r\n  height: 3px;\r\n  background: #ffffff;\r\n  border-radius: 5px;\r\n}\r\n.music .console .progress .rate{\r\n  background: #0a0a0a;\r\n  height: 3px;\r\n  border-radius: 5px;\r\n}\r\n.music .list{\r\n  max-height: 200px;\r\n  margin-top: 50px;\r\n  overflow: auto;\r\n  border-bottom-right-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n}\r\n.music .list div{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n}\r\n.music .list div span{\r\n  display: flex;\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n}\r\n.music .list div font{\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n  margin-right: 3px;\r\n  margin-top: 1px;\r\n  text-align: center;\r\n  width: 15px;\r\n  display: block;\r\n  overflow: hidden;\r\n}\r\n.music .list div:hover{\r\n  background: #cccccc;\r\n  cursor: url('../assets/hand.png'),auto !important;\r\n}\r\n.music .list .active{\r\n  background: #c0c0c0;\r\n}\r\n</style>\r\n"]}]}